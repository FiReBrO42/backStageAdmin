import{a,r as s,q as l,s as e,b as t,e as n,t as o,v as i,F as r,x as u,y as c,z as v,f as d,g as m,h as p,i as g,w as h}from"./vendor-pxN7Hy_2.js";import{u as f}from"./index-C32LlPht.js";import{_ as b}from"./_plugin-vue_export-helper-BCo6x5W8.js";const _={class:"layout"},k={class:"logo"},y={key:0},x={class:"menu"},j={key:0},w={class:"main-container"},z={class:"header"},A={class:"header-right"},C={class:"user-info"},I=["src"],q={class:"username"},B={class:"main-content"},F=b(a({__name:"index",setup(a){const b=t(),F=e(),L=f(),S=s(!1),W=l((()=>L.userInfo)),Z=l((()=>F.path)),D=l((()=>{var a,s;return(null==(s=null==(a=b.options.routes.find((a=>"/"===a.path)))?void 0:a.children)?void 0:s.filter((a=>{var s;return null==(s=a.meta)?void 0:s.title})))||[]})),E=()=>{S.value=!S.value},G=async()=>{L.logout(),await b.push("/login")};return(a,s)=>{var l,e;const t=m("router-link"),f=m("router-view");return p(),n("div",_,[o("aside",{class:c(["sidebar",{collapsed:S.value}])},[o("div",k,[s[0]||(s[0]=o("img",{src:"/backStageAdmin/assets/img-logo-BZ3zWibe.png",alt:"Logo"},null,-1)),S.value?i("",!0):(p(),n("span",y,"工作室後台"))]),o("nav",x,[(p(!0),n(r,null,u(D.value,(a=>(p(),g(t,{key:a.path,to:a.path,class:c(["menu-item",{active:Z.value===a.path}])},{default:h((()=>{var s,l;return[o("i",{class:c(null==(s=a.meta)?void 0:s.icon)},null,2),S.value?i("",!0):(p(),n("span",j,v(null==(l=a.meta)?void 0:l.title),1))]})),_:2},1032,["to","class"])))),128))])],2),o("div",w,[o("header",z,[o("button",{class:"collapse-btn",onClick:E},s[1]||(s[1]=[o("i",{class:"icon-menu"},null,-1)])),o("div",A,[o("div",C,[o("img",{src:null==(l=W.value)?void 0:l.avatar,alt:"Avatar",class:"avatar"},null,8,I),o("span",q,v(null==(e=W.value)?void 0:e.username),1)]),o("button",{class:"logout-btn",onClick:G},"登出")])]),o("main",B,[d(f)])])])}}}),[["__scopeId","data-v-4602e9ba"]]);export{F as default};
